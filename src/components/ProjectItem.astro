---
interface Props {
  title: string;
  description: string;
  link?: string;
  icon: string;
  index: number;
}

const { title, description, link, icon, index } = Astro.props;
const number = String(index + 1).padStart(2, "0");
---

<div
  class="group hover:bg-gray-200/50 dark:hover:bg-gray-900/40 p-1 rounded transition-colors"
  role="listitem"
>
  {
    link ? (
      <a
        href={link}
        target="_blank"
        rel="noopener noreferrer"
        class="block focus:outline-none rounded"
        aria-label={`Visit ${title}: ${description}`}
      >
        <div class="flex items-start gap-2">
          <span class="text-muted w-6 shrink-0" aria-hidden="true">
            {number}.
          </span>
          <span
            class="text-yellow-360 shrink-0"
            role="img"
            aria-label="Project icon"
          >
            {icon}
          </span>
          <div class="min-w-0 flex-1">
            <span class="text-secondary group-hover:text-accent font-semibold block sm:inline">
              {title}
            </span>
            <span class="text-muted sm:ml-2 block sm:inline mt-1 sm:mt-0">
              → {description}
            </span>
          </div>
        </div>
      </a>
    ) : (
      <div
        class="flex items-start gap-2 opacity-60"
        aria-label={`${title}: ${description}`}
      >
        <span class="text-muted w-6 shrink-0" aria-hidden="true">
          {number}.
        </span>
        <span
          class="text-yellow-360 shrink-0"
          role="img"
          aria-label="Project icon"
        >
          {icon}
        </span>
        <div class="min-w-0 flex-1">
          <span class="text-secondary font-semibold block sm:inline">
            {title}
          </span>
          <span class="text-muted sm:ml-2 block sm:inline mt-1 sm:mt-0">
            → {description}
          </span>
          <span class="text-muted/70 sm:ml-2 block sm:inline">[soon]</span>
        </div>
      </div>
    )
  }
</div>
